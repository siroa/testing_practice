<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>サンプル</title>
</head>
<body>
    <h1>自動投薬システム</h1>
    <div>
        <label for="name">年齢:</label>
        <br />
        <input type="number" id="age" name="age" value=0 min="0" max="150" required>
        <span class="validity"></span>
    </div>
    <br />
    <div>
        <label for="sex">性別:</label>
        <br />
        <select name="sex" id="sex" required>
            <option value="female">F</option>
            <option value="male">M</option>
            <option value="x">X</option>
        </select>
    </div>
    <br />
    <div>
        <label for="symptom">症状:</label>
        <br />
        <select name="symptom" id="symptom" required>
            <option value="fever">高熱</option>
            <option value="cough">咳</option>
            <option value="headache">頭痛</option>
        </select>
    </div>
    <br />
    <div>
        <input type="button" value="決定" id="btn">
    </div>
    <div>
        <p id="output"></p>
    </div>
<script>
const OK = "患者に適切な薬が投与されました。"
const NG = "患者に薬が投薬されませでした。"
const AGE_NG = "年齢が不正です。"

function butotnClick(){
    var age = document.getElementById('age').value;
    var ageNum = Number(age)
    if( age === "" || isNaN(ageNum) || ageNum > 150 || ageNum < 0) {
        document.getElementById('output').textContent = AGE_NG;
        return
    }
    var sex = document.getElementById('sex').value;
    var symptom = document.getElementById('symptom').value;


    document.getElementById('output').textContent = OK;
}

let button = document.getElementById('btn');
button.addEventListener('click', butotnClick);
</script>
<style>
input:invalid+span:after {
  content: '✖';
  color: red;
  padding-left: 5px;
}

input:valid+span:after {
  content: '✓';
  color: green;
  padding-left: 5px;
}
div {
    text-align: left;
}
</style>
</body>
</html>

